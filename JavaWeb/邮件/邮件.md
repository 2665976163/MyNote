# 邮件

读取邮件

```java

public static void inputMail(String username,String password){
	username = "2665976163@qq.com"; // 配置发送邮件的用户名
	password = "mcjabyfqojvgdjbj"; // 配置发送邮件的授权码
	// outputMail();
	Properties prop = System.getProperties();
	// 声明接收邮件所使用的协议
	prop.setProperty("mail.pop3.host", "pop.qq.com");
	// 设置POP3服务器
	prop.setProperty("mail.pop3.port", "995");
	// SSL安全连接参数
	prop.setProperty("mail.pop3.socketFactory.class", "javax.net.ssl.SSLSocketFactory");
	prop.setProperty("mail.pop3.socketFactory.fallback", "true");
	prop.setProperty("mail.pop3.socketFactory.port", "995");
	Session session = Session.getDefaultInstance(prop);
	session.setDebug(true); // 开启调试
	Store store = session.getStore("pop3");
	store.connect("pop.qq.com", username, password);
	Folder folder = store.getFolder("INBOX");
	folder.open(Folder.READ_ONLY); // 只读方式
	Message[] message = folder.getMessages(); // 读取邮件
	for (Message messag : message) {
		System.err.println(messag.getSentDate());
		System.err.println(messag.getSubject());
	}
}
```

发送邮件

​	**\>** 导包

​	**\>** 设置协议

​	**\>** 设置发件人、收件人、内容

​	**\>** 发送邮件

```java
public static void outputMail(String username,String password) throws MessagingException, AddressException, NoSuchProviderException {
	username = "2665976163@qq.com"; // 配置发送邮件的用户名
	password = "mcjabyfqojvgdjbj"; // 配置发送邮件的密码
	// mcjabyfqojvgdjbj
	Properties prop = System.getProperties();
	// 设置SMTP服务器
	prop.setProperty("mail.host", "smtp.qq.com");
	// 声明发送邮件所使用的协议
	prop.setProperty("mail.transport.protocol", "smtp");
	// 开启邮箱安全验证
	prop.setProperty("mail.smtp.auth", "true");
	// 开启邮箱使用SSL加密协议
	prop.setProperty("mail.smtp.ssl.enable", "true");
	// 设置SMTP服务器端口号
	prop.setProperty("mail.smtp.port", "465");
	Session session = Session.getDefaultInstance(prop);
	session.setDebug(true); // 开启调试
    
	// 创建Message对象
	MimeMessage message = new MimeMessage(session);
	// 设置发件人
	message.setFrom(new InternetAddress(username));
	// 设置收件人
	message.setRecipients(Message.RecipientType.TO, username);
	// 设置邮件标题
	message.setSubject("记得双击么么哒");
	// 设置邮件内容
	message.setText("百因必有果，你的报应就是我", "utf-8");
	message.saveChanges();

	// 发送邮件
	Transport transport = session.getTransport();
	// 使用用户名和密码登录邮件服务器
	transport.connect(username, password);
	// 发送消息
	transport.sendMessage(message, message.getAllRecipients());
	// 关闭
	transport.close();
}
```

